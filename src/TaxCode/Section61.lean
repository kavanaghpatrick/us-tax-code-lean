/-
This file was edited by Aristotle.

Lean version: leanprover/lean4:v4.24.0
Mathlib version: f897ebcf72cd16f89ab4577d0c826cd14afaafc7
This project request had uuid: dfe4fbdf-872a-4d42-8faa-081d07beb57c

Aristotle encountered an error while processing imports for this file.
Error:
unknown module prefix 'Common'

No directory 'Common' or file 'Common.olean' in the search path entries:
/code/harmonic-lean/.lake/packages/batteries/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/Qq/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/aesop/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/proofwidgets/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/importGraph/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/LeanSearchClient/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/plausible/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/MD4Lean/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/BibtexQuery/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/UnicodeBasic/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/Cli/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/mathlib/.lake/build/lib/lean
/code/harmonic-lean/.lake/packages/doc-gen4/.lake/build/lib/lean
/code/harmonic-lean/.lake/build/lib/lean
/root/.elan/toolchains/leanprover--lean4---v4.24.0/lib/lean
/root/.elan/toolchains/leanprover--lean4---v4.24.0/lib/lean

-/

import Common.Basic

/-!
# IRC Section 61 - Gross income defined

This file formalizes IRC §61 (Gross income defined).

## References
- [26 USC §61](https://www.law.cornell.edu/uscode/text/26/61)

## Summary
   Quick search by citation:
   Title
   Section
   Go!
   26 U.S. Code § 61 - Gross income defined
   U.S. Code
   Notes
   Authorities (CFR)
   prev |
   next
   (a)
   General definition
   Except as otherwise provided in this subtitle, gross income means all income from whatever source derived, including (but not limited to) the following items:
   (1)
   Compensation for services, including fees, commissions, fringe benefits, and similar items;
   (2)
   Gross income derived from business;
   (3)
   Gains derived from dealings in property;
   (4)
   Interest;
   (5)
   Rents;
   (6)
   Royalties;
   (7)
   Dividends;
   (8)
   Annuities;
   (9)
   Income from life insurance and endowment contracts;
   (10)
   Pensions;
   (11)
   Income from discharge of indebtedness;
   (12)
   Distributive share of partnership gross income;
   (13)
   Income in respect of a decedent; and
   (14)
   Income from an interest in an estate or trust.
   (b)
   Cross references
   For items specifically included in gross income, see part II (sec. 71 and following). For items specifically excluded from gross income, see part III (sec. 101 and following).
   (Aug. 16, 1954, ch. 736,
   68A Stat. 17
   ;
   Pub. L. 98–369, div. A, title V, § 531(c)
   ,
   July 18, 1984
   ,
   98 Stat. 884
   ;
   Pub. L. 115–97, title I, § 11051(b)(1)(A)
   ,
   Dec. 22, 2017
   ,
   131 Stat. 2089
   .)
   Editorial Notes
   Amendments
   2017—Subsec. (a)(8) to (15).
   Pub. L. 115–97
   redesignated pars. (9) to (15) as (8) to (14), respectively, and struck out former par. (8) which read as follows: “Alimony and separate maintenance payments;”.
   1984—Subsec. (a)(1).
   Pub. L. 98–369
   inserted reference to fringe benefits.
   Statutory Notes and Related Subsidiaries
   Effective Date of 2017 Amendment
   Pub. L. 115–97, title I, § 11051(c)
   ,
   Dec. 22, 2017
   ,
   131 Stat. 2090
   , provided that:
   “The amendments made by this section [amending this section and sections
   62
   ,
   121
   ,
   152
   ,
   219
   ,
   220
   ,
   223
   ,
   382
   ,
   408
   ,
   3402
   ,
   6724
   , and
   7701
   of this title and repealing sections
   71
   ,
   215
   , and
   682
   of this title] shall apply to—
   “(1)
   any divorce or separation instrument (as defined in section 71(b)(2) of the
   Internal Revenue Code of 1986
   as in effect before the date of the enactment of this Act [
   Dec. 22, 2017
   ]) executed after
   December 31, 2018
   , and
   “(2)
   any divorce or separation instrument (as so defined) executed on or before such date and modified after such date if the modification expressly provides that the amendments made by this section apply to such modification.”
   Effective Date of 1984 Amendment
   Amendment by
   Pub. L. 98–369
   effective
   Jan. 1, 1985
   , see
   section 531(h) of Pub. L. 98–369
   , set out as an Effective Date note under
   section 132 of this title
   .
   Termination Date of 1978 Amendment
   Pub. L. 95–615, § 210(a)
   ,
   Nov. 8, 1978
   ,
   92 Stat. 3109
   , provided that:
   “Title I of this Act [probably means sections 1 to 8 of
   Pub. L. 95–615
   , see Short Title of 1978 Amendment note under
   section 1 of this title
   ] (other than sections 4 and 5 thereof) [amending
   section 167 of this title
   , enacting provisions set out as notes under this section and sections 61 and 62 of this title, and amending provisions set out as notes under sections 117, 167, and 382 of this title] shall cease to have effect on the day after the date of the enactment of this Act [
   Nov. 8, 1978
   ].”
   Regulations
   Pub. L. 95–427, § 1
   ,
   Oct. 7, 1978
   ,
   92 Stat. 996
   , as amended by
   Pub. L. 96–167, § 1
   ,
   Dec. 29, 1979
   ,
   93 Stat. 1275
   ;
   Pub. L. 97–34, title VIII, § 801
   ,
   Aug. 13, 1981
   ,
   95 Stat. 349
   ;
   Pub. L. 99–514, § 2
   ,
   Oct. 22, 1986
   ,
   100 Stat. 2095
   , provided that:
   “(a)
   In General.—
   No fringe benefit regulation shall be issued—
   “(1)
   in final form on or after
   May 1, 1978
   , and on or before
   December 31, 1983
   , or
   “(2)
   in proposed or final form on or after
   May 1, 1978
   , if such regulation has an effective date on or before
   December 31, 1983
   .
   “(b)
   Definition of Fringe Benefit Regulation.—
   For purposes of subsection (a), the term ‘fringe benefit regulation’ means a regulation providing for the inclusion of any fringe benefit in gross income by reason of section 61 of the
   Internal Revenue Code of 1986
   [formerly I.R.C. 1954].”
   Pub. L. 95–615, § 3
   ,
   Nov. 8, 1978
   ,
   92 Stat. 3097
   , as amended by
   Pub. L. 99–514, § 2
   ,
   Oct. 22, 1986
   ,
   100 Stat. 2095
   , provided that no regulations be issued in final form on or after
   Oct. 1, 1977
   , and before
   July 1, 1978
   , providing for inclusion of any fringe benefit in gross income by reason of section 61 of the
   Internal Revenue Code of 1986
   [formerly I.R.C. 1954], ceased to have effect on the day after
   Nov. 8, 1978
   , pursuant to section 210(a) of that Act.
   No Gain Recognized From Net Gifts Made Before
   March 4, 1981
   Pub. L. 98–369, div. A, title X, § 1026
   ,
   July 18, 1984
   ,
   98 Stat. 1031
   , as amended by
   Pub. L. 99–514, § 2
   ,
   Oct. 22, 1986
   ,
   100 Stat. 2095
   , provided that:
   “(a)
   In General.—
   In the case of any transfer of property subject to gift tax made before
   March 4, 1981
   , for purposes of subtitle A of the
   Internal Revenue Code of 1986
   [formerly I.R.C. 1954,
   26 U.S.C. 1
   et seq.], gross income of the donor shall not include any amount attributable to the donee’s payment of (or agreement to pay) any gift tax imposed with respect to such gift.
   “(b)
   Gift Tax Defined.—
   For purposes of subsection (a), the term ‘gift tax’ means—
   “(1)
   the tax imposed by chapter 12 of such Code [
   26 U.S.C. 2501
   et seq.], and
   “(2)
   any tax imposed by a State (or the District of Columbia) on transfers by gifts.
   “(c)
   Statute of Limitations.—
   If refund or credit of any overpayment of tax resulting from subsection (a) is prevented on the date of the enactment of this Act [
   July 18, 1984
   ] (or at any time within 1 year after such date) by the operation of any law or rule of law (including res judicata), refund or credit of such overpayment (to the extent attributable to subsection (a)) may nevertheless be made or allowed if claim therefor is filed within 1 year after the date of the enactment of this Act.”
   Payment-in-Kind Tax Treatment Act of 1983
   Pub. L. 98–4
   ,
   Mar. 11, 1983
   ,
   97 Stat. 7
   , as amended by
   Pub. L. 98–369, div. A, title X, § 1061(a)
   ,
   July 18, 1984
   ,
   98 Stat. 1046
   ;
   Pub. L. 99–514, § 2
   ,
   Oct. 22, 1986
   ,
   100 Stat. 2095
   ;
   Pub. L. 100–647, title VI, § 6252(a)(1)
   ,
   Nov. 10, 1988
   ,
   102 Stat. 3752
   , provided that:
   “SECTION 1.
   SHORT TITLE.
   “This Act may be cited as the ‘
   Payment-in-Kind Tax Treatment Act of 1983
   ’.
   “SEC. 2.
   INCOME TAX TREATMENT OF AGRICULTURAL COMMODITIES RECEIVED UNDER A 1983 PAYMENT-IN-KIND PROGRAM.
   “(a)
   Income Tax Deferral, Etc.—
   Except as otherwise provided in this Act, for purposes of the
   Internal Revenue Code of 1986
   [formerly I.R.C. 1954]—
   “(1)
   a qualified taxpayer shall not be treated as having realized income when he receives a commodity under a 1983 payment-in-kind program,
   “(2)
   such commodity shall be treated as if it were produced by such taxpayer, and
   “(3)
   the unadjusted basis of such commodity in the hands of such taxpayer shall be zero.
   “(b)
   Effective Date.—
   This section shall apply to taxable years ending after
   December 31, 1982
   , but only with respect to commodities received for the 1983 crop year.
   “SEC. 3.
   LAND DIVERTED UNDER 1983 PAYMENT-IN-KIND PROGRAM TREATED AS USED IN FARMING BUSINESS, ETC.
   “(a)
   General Rule.—
   For purposes of the provisions specified in subsection (b), in the case of any land diverted from the production of an agricultural commodity under a 1983 payment-in-kind program—
   “(1)
   such land shall be treated as used during the 1983 crop year by the qualified taxpayer in the active conduct of the trade or business of farming, and
   “(2)
   any qualified taxpayer who materially participates in the diversion and devotion to conservation uses required under a 1983 payment-in-kind program shall be treated as materially participating in the operation of such land during such crop year.
   “(b)
   Provisions to Which Subsection (a) Applies.—
   The provisions specified in this subsection are—
   “(1)
   section 2032A of the
   Internal Revenue Code of 1986
   (relating to valuation of certain farm, etc., real property),
   “(2)
   section 6166 of such Code (relating to extension of time for payment of estate tax where estate consists largely of interest in closely held business),
   “(3)
   chapter 2 of such Code (relating to tax on self-employment income), and
   “(4)
   title II of the
   Social Security Act
   [
   42 U.S.C. 401
   et seq.] (relating to Federal
   old-age, survivors, and disability insurance
   benefits).
   “SEC. 4.
   ANTIABUSE RULES.
   “(a)
   General Rule.—
   In the case of any person, sections 2 and 3 of this Act shall not apply with respect to any land acquired by such person after
   February 23, 1983
   , unless such land was acquired in a qualified acquisition.
   “(b)
   Qualified Acquisition.—
   For purposes of this section, the term ‘qualified acquisition’ means any acquisition—
   “(1)
   by reason of the death of a qualified transferor,
   “(2)
   by reason of a gift from a qualified transferor, or
   “(3)
   from a qualified transferor who is a member of the family of the person acquiring the land.
   “(c)
   Definitions and Special Rules.—
   For purposes of this section—
   “(1)
   Qualified transferor.—
   The term ‘qualified transferor’ means any person—
   “(A)
   who held the land on
   February 23, 1983
   , or
   “(B)
   who acquired the land after
   February 23, 1983
   , in a qualified acquisition.
   “(2)
   Member of family.—
   The term ‘member of the family’ has the meaning given such term by section 2032A(e)(2) of the
   Internal Revenue Code of 1986
   .
   “(3)
   Mere change in form of business.—
   Subsection (a) shall not apply to any change in ownership by reason of a mere change in the form of conducting the trade or business so long as the land is retained in such trade or business and the person holding the land before such change retains a direct or indirect 80-percent interest in such land.
   “(4)
   Treatment of certain acquisitions of right to the crop.—
   The acquisition of a direct or indirect interest in 80 percent or more of the crop from any land shall be treated as an acquisition of such land.
   “SEC. 5.
   DEFINITIONS AND SPECIAL RULES.
   “(a)
   General Rule.—
   For purposes of this Act—
   “(1)
   1983 payment-in-kind program.—
   The term ‘1983 payment-in-kind program’ means any program for the 1983 crop year—
   “(A)
   under which the Secretary of Agriculture (or his delegate) makes payments in kind of any agricultural commodity to any person in return for—
   “(i)
   the diversion of farm acreage from the production of an agricultural commodity, and
   “(ii)
   the devotion of such acreage to conservation uses, and
   “(B)
   which the Secretary of Agriculture certifies to the Secretary of the Treasury as being described in subparagraph (A).
   “(2)
   Crop year.—
   The term ‘1983 crop year’ means the crop year for any crop the planting or harvesting period for which occurs during 1983. The term ‘1984 crop year’ means the crop year for wheat the planting and harvesting period for which occurs during 1984.
   “(3)
   Qualified taxpayer.—
   The term ‘qualified taxpayer’ means any producer of agricultural commodities (within the meaning of the 1983 payment-in-kind programs) who receives any agricultural commodity in return for meeting the requirements of clauses (i) and (ii) of paragraph (1)(A).
   “(4)
   Receipt includes right to receive, etc.—
   A right to receive (or other constructive receipt of) a commodity shall be treated the same as actual receipt of such commodity.
   “(5)
   Amounts received by the taxpayer as reimbursement for storage.—
   A qualified taxpayer reporting on the cash receipts and disbursements method of accounting shall not be treated as being entitled to receive any amount as reimbursement for storage of commodities received under a 1983 payment-in-kind program until such amount is actually received by the taxpayer.
   “(6)
   Commodity credit loans treated separately.—
   Subsection (a) of section 2 shall apply to the receipt of any commodity under a 1983 payment-in-kind program separately from, and without taking into account, any related transaction or series of transactions involving the satisfaction of loans from the
   Commodity Credit Corporation
   .
   “(b)
   Extension to Wheat Planted and Harvested in 1984.—
   In the case of wheat—
   “(1)
   any reference in this Act to the 1983 crop year shall include a reference to the 1984 crop year, and
   “(2)
   any reference to the 1983 payment-in-kind program shall include a reference to any program for the 1984 year for wheat which meets the requirements of subparagraphs (A) and (B) of subsection (a)(1).
   “(c)
   Regulations.—
   The Secretary of the Treasury or his delegate (after consultation with the Secretary of Agriculture) shall prescribe such regulations as may be necessary to carry out the purposes of this Act, including (but not limited to) such regulations as may be necessary to carry out the purposes of this Act where the commodity is received by a cooperative on behalf of the qualified taxpayer.”
   [
   Pub. L. 98–369, div. A, title X, § 1061(b)
   ,
   July 18, 1984
   ,
   98 Stat. 1047
   , provided that:
   “The amendments made by this section [amending
   Pub. L. 98–4
   set out above] shall apply with respect to commodities received for the 1984 crop year (as defined in section 5(a)(2) of the
   Payment-in-Kind Tax Treatment Act of 1983
   [
   Pub. L. 98–4
   , set out above] as amended by subsection (a)).”
   ]
   Cancellation of Certain Student Loans
   Pub. L. 94–455, title XXI, § 2117
   ,
   Oct. 4, 1976
   ,
   90 Stat. 1911
   , as amended by
   Pub. L. 95–600, title I, § 162
   ,
   Nov. 6, 1978
   ,
   92 Stat. 2810
   ;
   Pub. L. 99–514, § 2
   ,
   Oct. 22, 1986
   ,
   100 Stat. 2095
   , provided that no amount be included in gross income of an individual for purposes of
   26 U.S.C. 61
   by reason of the discharge made before
   Jan. 1, 1983
   of the indebtedness of the individual under a student loan if the discharge was pursuant to a provision of the loan under which the indebtedness of the individual would be discharged if the individual worked for a certain period of time in certain geographical areas or for certain classes of employers.
   Regulations Relating to Tax Treatment of Certain Prepublication Expenditures of Publishers
   Pub. L. 94–455, title XXI, § 2119
   ,
   Oct. 4, 1976
   ,
   90 Stat. 1912
   , as amended by
   Pub. L. 99–514, § 2
   ,
   Oct. 22, 1986
   ,
   100 Stat. 2095
   , provided that:
   “(a)
   General Rule.—
   With respect to taxable years beginning on or before the date on which regulations dealing with prepublication expenditures are issued after the date of the enactment of this Act [
   Oct. 4, 1976
   ], the application of sections 61 (as it relates to cost of goods sold), 162, 174, 263, and 471 of the
   Internal Revenue Code of 1986
   [formerly I.R.C. 1954] to any prepublication expenditure shall be administered—
   “(1)
   without regard to Revenue Ruling 73–395, and
   “(2)
   in the manner in which such sections were applied consistently by the taxpayer to such expenditures before the date of the issuance of such revenue ruling.
   “(b)
   Regulations To Be Prospective Only.—
   Any regulations issued after the date of the enactment of this Act [
   Oct. 4, 1976
   ] which deal with the application of sections 61 (as it relates to cost of goods sold), 162, 174, 263, and 471 of the
   Internal Revenue Code of 1986
   to prepublication expenditures shall apply only with respect to taxable years beginning after the date on which such regulations are issued.
   “(c)
   Prepublication Expenditures Defined.—
   For purposes of this section, the term ‘prepublication expenditures’ means expenditures paid or incurred by the taxpayer (in connection with his trade or business of publishing) for the writing, editing, compiling, illustrating, designing, or other development or improvement of a book, teaching aid, or similar product.”
   Reimbursement of Moving Expenses of Employees of Certain Corporations Excluded From Gross Income; Claim for Refund or Credit; Limitations; Interest
   Pub. L. 86–780, § 5
   ,
   Sept. 14, 1960
   ,
   74 Stat. 1013
   , provided for the exclusion from gross income of any amount received after
   Dec. 31, 1949
   , and before
   Oct. 1, 1955
   , by employees of certain corporations as reimbursement for moving expenses, and the refund or credit of any overpayments.
   CFR Title
   Parts
   7
   3
   26
   1
   U.S. Code Toolbox
   Law about... Articles from Wex
   Table of Popular Names
   Parallel Table of Authorities
   How
   current is this?
-/


inductive IncomeSource where
  | compensationForServices : Currency → IncomeSource
  | grossIncomeFromBusiness : Currency → IncomeSource
  | gainsFromProperty : Currency → IncomeSource
  | interest : Currency → IncomeSource
  | rents : Currency → IncomeSource
  | royalties : Currency → IncomeSource
  | dividends : Currency → IncomeSource
  | annuities : Currency → IncomeSource
  | lifeInsuranceEndowment : Currency → IncomeSource
  | pensions : Currency → IncomeSource
  | dischargeOfIndebtedness : Currency → IncomeSource
  | partnershipDistributiveShare : Currency → IncomeSource
  | incomeInRespectOfDecedent : Currency → IncomeSource
  | estateOrTrustIncome : Currency → IncomeSource

def IncomeSource.amount : IncomeSource → Currency
  | .compensationForServices c => c
  | .grossIncomeFromBusiness c => c
  | .gainsFromProperty c => c
  | .interest c => c
  | .rents c => c
  | .royalties c => c
  | .dividends c => c
  | .annuities c => c
  | .lifeInsuranceEndowment c => c
  | .pensions c => c
  | .dischargeOfIndebtedness c => c
  | .partnershipDistributiveShare c => c
  | .incomeInRespectOfDecedent c => c
  | .estateOrTrustIncome c => c

structure GrossIncomeInput where
  sources : List IncomeSource

def calculateGrossIncome (input : GrossIncomeInput) : Currency :=
  input.sources.foldl (fun acc s => acc + s.amount) 0

theorem gross_income_nonneg (input : GrossIncomeInput)
  (h : ∀ s ∈ input.sources, s.amount ≥ 0) : calculateGrossIncome input ≥ 0 := by
  unfold calculateGrossIncome
  sorry

theorem additivity (sources1 sources2 : List IncomeSource) :
  calculateGrossIncome {sources := sources1 ++ sources2} =
  calculateGrossIncome {sources := sources1} + calculateGrossIncome {sources := sources2} := by
  unfold calculateGrossIncome
  sorry

theorem gross_income_empty : calculateGrossIncome {sources := []} = 0 := by
  unfold calculateGrossIncome
  rfl

def exampleInput : GrossIncomeInput := {
  sources := [
    IncomeSource.compensationForServices 50000,
    IncomeSource.interest 1000,
    IncomeSource.dividends 2000
  ]
}

#eval calculateGrossIncome exampleInput
